@using NetCoreEcommerce.Data.Models
@model NetCoreEcommerce.Web.Models.ShoppingCart.ShoppingCartIndexModel

<li class="minicart-wrap">
    <a href="#" class="minicart-btn toolbar-btn">
        <i class="ion-bag"></i>
        <span class="cart-item_count">@Model.ShoppingCart.ShoppingCartItems.Count()</span>
    </a>
    <div class="cart-item-wrapper dropdown-sidemenu dropdown-hover-2">
        @foreach (ShoppingCartItem cartItem in Model.ShoppingCart.ShoppingCartItems)
        {
            <div class="single-cart-item">
                <div class="cart-img">
                    <a asp-controller="ShoppingCart" asp-action="Index"><img src="@cartItem.Product.ImageUrl" alt="@cartItem.Product.Name"></a>
                </div>
                <div class="cart-text">
                    <h5 class="title"><a asp-controller="ShoppingCart" asp-action="Index">@cartItem.Product.Name</a></h5>
                    <div class="cart-text-btn">
                        <div class="cart-qty">
                            <span>@cartItem.Amount x</span>
                            <span class="cart-price">@cartItem.Product.Price</span>
                        </div>
                        <button type="button"><i class="ion-trash-b"></i></button>
                    </div>
                </div>
            </div>
        }
        <div class="cart-price-total d-flex justify-content-between">
            <h5>Total : @Html.Raw(@Model.ShoppingCart.GetShoppingCartTotal())</h5>
        </div>
        <div class="cart-links d-flex justify-content-center">
            <a class="netcoreecommerce-button white-btn" asp-controller="ShoppingCart" asp-action="Index">View cart</a>
            <a class="netcoreecommerce-button white-btn" asp-controller="Order" asp-action="Checkout">Checkout</a>
        </div>
    </div>
</li>